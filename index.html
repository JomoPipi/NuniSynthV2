






<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title> Nuni Synth v0.2 </title>

    <link rel="stylesheet" 
          type="text/css" 
          href="styles/styles.css">
          
    <link rel="icon" type="image/png" sizes="32x32" href="/styles/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/styles/favicon.ico">
    
    <script src="dist/helpers/helpers.js"         defer></script>

    <script src="dist/UI/functions/ui_clamp.js"      defer></script>
    <script src="dist/UI/functions/apply_style.js"   defer></script>
    <script src="dist/UI/functions/colorContrast.js" defer></script>
    <script src="dist/UI/jsdials.js"           defer></script>
    <script src="dist/UI/draggable-window.js"  defer></script>
    <script src="dist/UI/number-input.js"      defer></script>
    <script src="dist/UI/page-groupify.js"     defer></script>
    <script src="dist/UI/setup.js"             defer></script>

    <script src="dist/nunigraph/model/nodeconfig.js" defer></script>

    <script type="module" src="dist/main.js" defer></script>

</head>
<body>


<div id="loading-screen" class="loader">
  <div id="loading-text" class="loading-text"> LOADING - PLEASE WAIT </div>
  <div class="l_main">
    <div class="l_square"><span></span><span></span><span></span></div>
    <div class="l_square"><span></span><span></span><span></span></div>
    <div class="l_square"><span></span><span></span><span></span></div>
    <div class="l_square"><span></span><span></span><span></span></div>
  </div>
</div>

<div id="graph-contextmenu">
  <span style="color:rgba(0,0,0,0.65)"> Create.. </span>
  <button id="create-gain2" class="contextmenu-button">       
      new gain         </button>
  <button id="create-oscillator2" class="contextmenu-button"> 
      new oscillator   </button>
  <button id="create-filter2" class="contextmenu-button">     
      new filter       </button>
  <button id="create-panner2" class="contextmenu-button">     
      new panner       </button>
  <button id="create-delay2" class="contextmenu-button">      
      new delay        </button>    
  <button id="create-buffer2" class="contextmenu-button">    
      new buffer       </button>    
  <button id="create-subgraph-sequencer2" class="contextmenu-button">    
      subgraph sequencer </button>    
  <button id="create-buffer-sequencer2" class="contextmenu-button">    
      buffer sequencer </button>
</div>

<div id="connection-type-prompt" class="prompt"></div>




<div class="the-two-panels">
  
  <div id="tabs-panel" class="panel">

    <div class="top-bar-2">
      <span>
        <div id="tab-swapper" class="flat-grid swapper">
          <span id="graph-tab-btn" class="flex-center">         Graph          </span>
          <span id="keyboard-tab-btn" class="flex-center">      Keyboard       </span>
          <span id="buffer-edit-tab-btn" class="flex-center">   Buffers        </span>
          <span id="waveform-edit-tab-btn" class="flex-center"> Waveforms      </span>
        </div>
      </span>
    </div>
    
    <div id="tabs">


      
      <div id="graph-tab" class="_tab_ show">
          <div class="side-margin vert-split">
              <div>
                
                <!-- <div class="center dim-text"> Create Nodes </div>
                <div class="three-columns">
                  <button id="create-gain" class="neumorph">        gain         </button>
                  <button id="create-oscillator" class="neumorph">  oscillator   </button>
                  <button id="create-filter" class="neumorph">      filter       </button>
                  <button id="create-panner" class="neumorph">      panner       </button>
                  <button id="create-delay" class="neumorph">       delay        </button>    
                  <button id="create-buffer" class="neumorph">      buffer       </button>    
                </div> -->
                <br>
            
                <div class="graph-copy-buttons">

                  <button id="copy-graph-button" class="neumorph"> 
                    copy this graph </button>
                  <input 
                    type="text" 
                    id="graph-copy-output" 
                    class="text-input">
                  
                  <button id="from-string-button" class="neumorph"> 
                    new graph from code </button>
                  <input 
                    type="text" 
                    id="graph-copy-input" 
                    class="text-input" 
                    placeholder="paste a graph here">

                </div>
                
                <div>
                    <button id="clear-graph-button" class="neumorph" style="float:right"> clear graph </button>
                </div>

                <span>
                  Project Tempo
                  <span id="tempo-input-container">
                    
                  </span>

                </span>

              </div>
              
              <div>

                PRESETS
                <div id="graph-preset-list" class="preset-list">
                </div>
                
              </div>

          </div>
      </div>




      <div id="keyboard-tab" class="_tab_">
        <div class="side-margin">

          <div class="adsr-and-kb">

            <!-- ADSR -->
            <span class="adsr-box">

              <div class="center"> ADSR </div>
              <canvas id="adsr-canvas"></canvas>
              
              <div id="adsr-knobs" class="adsr-knobs"> 
                
                <!-- INSERT WITH JavaScript -->

              </div>
            </span>

            <div class="flex-center">

              <span>

                <!-- OCTAVE TOGGLE  -->
                <!-- <span class="flex-center">
                  <span>
                    octave:
                  </span>
                  <span id="octave-select" class="vert-grid">
                    <button id="octave-up"> ⇑ </button>
                    <span id="octave-text"> 0 </span>
                    <button id="octave-down"> ⇓ </button>
                  </span>
                </span> -->

                <div class="keyboard" id="keyboard-image"></div>

                <div id="mono-poly-select" class="center">
                  VOICES: <input id="n-poly-slider" type="range" min=1 max=20>
                  <span id="n-poly-text"> 10 </span>
                  <!-- <input id="keyboard-mono-radio" 
                    type="radio"
                    name="radio">
                  <label for="keyboard-mono-radio" class="radio"> 
                    MONO
                  </label> -->
  
                  <!-- <input id="keyboard-poly-radio"
                    type="radio"
                    name="radio"
                    checked="true">
                  <label for="keyboard-poly-radio" class="radio"> 
                    POLY
                  </label> -->
                </div>

              </span>  

            </div>

          </div>

          <br>
          
          <div id="scale-builder-container" class="scale-builder-container">

            <div class="center">
              <span id="scale-kinds" class="flat-grid swapper">
                <span id="preset-library-btn"> SCALE PRESETS </span>
                <span id="scale-builder-btn">  SCALE BUILDER </span>
              </span> 
            </div>
            
            <div id="preset-library" class="_tab_ show">
              <div id="scale-preset-list" class="preset-list"></div>
            </div>

            <div id="scale-builder" class="_tab_">
              
              <div class="builder-section">

                <code> EDO (Equal Divisions of Octave) </code> <br>

                <input 
                  type="number" 
                  id="intervals-per-octave" 
                  class="text-input center" 
                  value=12> 
                <span> Intervals per Octave </span> <br>

                <input 
                  type="number" 
                  id="cents-per-step" 
                  class="text-input center" 
                  value=100>
                <span> Cents per Step </span>

                <button class="apply-btn" id="apply-equal-temperament"> apply </button>

              </div>

              <div class="builder-section">

                Enter a list of comma separated values -- may be cents or ratios.
                1/1 is included by default. Octaves repeat. <br>
                
                <code>
                  [
                  <input
                    type="text" 
                    id="scale-csv-input"
                    class="text-input-wide center"
                    value="9/8,  5/4,  3/2,  1100">
                    
                  ]
                </code>
                  
                <button class="apply-btn" id="apply-scale-csv"> apply </button>

              </div>

              <div class="builder-section">
                  
                Scale Cents Expression <br>
                Use
                  <a 
                    target="_blank" 
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators"> 
                    operators </a> 
                and
                  <a 
                    target="_blank"
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math"> 
                    functions </a>
                <br>

                <code>
                  [ <input
                      type="text" 
                      id="delta-expression"
                      class="text-input-wide center"
                      value="100 + (n % 5) * 100"> | n &lt;- [0,1..]
                  ]
                </code>

                <button class="apply-btn" id="apply-cent-delta"> apply </button>

              </div>

            </div>
          </div>
          <!-- END SCALE BUILDER CONTAINER  -->

        </div>
      </div>




      <div id="buffer-edit-tab" class="_tab_">
        <div class="side-margin">

          <div class="lcd-display">
            <code> BUFFER </code>
            <code id="buffer-info"> A -- 3 seconds </code>
          </div>
  
          <div class="buffer-box">
            <div id="buffer-container" class="buffers-list"></div>
            <canvas id="buffer-canvas"></canvas>
          </div>

          <br>

          <div id="buffer-edit-create-select" class="flat-grid color1 swapper">
            <span id="buffer-edit-btn"> EDIT </span>
            <span id="buffer-create-btn"> CREATE </span>
          </div>

          <div id="buffer-functions">
            
            <div id="buffer-edit" class="_tab_">

              <button id="reverse-buffer" class="neumorph"> 
                reverse </button>

              <button id="invert-buffer" class="neumorph">  
                invert </button>

              <!-- <button id="trim-buffer" class="neumorph">   
                trim </button>
              
              <button id="buffer-copy-from" class="neumorph"> 
                copy from </button>

              <button id="buffer-copy-from" class="neumorph"> 
                merge </button> -->

            </div>

            
            <div id="buffer-create" class="_tab_ show">

              <span>
                NEW BUFFER LENGTH:
                <span class="code2"
                  id="new-buffer-length-text"> 
                  3 
                </span> seconds </span> <br>

                <input 
                  id="new-buffer-length"
                  type="range" 
                  min=0.1 
                  max=10 
                  step=0.1
                  value=3> 
              <br>

              <div class="builder-section center">

                <button id="record" class="record"> 
                  rec </button>

                <span id="record-type-radio" class="center">

                  <input id="record-mic" 
                    type="radio"
                    name="record-radio"
                    checked="true">
                  <label for="record-mic" class="record-radio"> 
                    record mic
                  </label>
                  
                  <input id="record-graph" 
                    type="radio"
                    name="record-radio">
                  <label for="record-graph" class="record-radio"> 
                    record graph
                  </label>

                </span>

              </div>

              <div class="builder-section">
                Buffer Expression <br>
                <br>
                
                <span class="code2">  n  </span> represents the position of each value, in the buffer.
                <!-- <span class="code2">  x  </span> represents the value at position n, in the buffer.  -->
                Output values should be between -1 and 1. Use
                  <a 
                    target="_blank" 
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators"> 
                    operators </a> 
                and
                  <a 
                    target="_blank"
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math"> 
                    functions </a>
                <br>

                [ <input
                    type="text" 
                    id="buffer-formula"
                    class="text-input-wide center"
                    value="sin(n/30) + sin(n/20)"> | n &lt;- [0,1..]
                ]

                <button class="apply-btn" id="apply-buffer-formula"> apply </button>

              </div>

            </div>
            
          </div>

        </div>
      </div>




      <div id="waveform-edit-tab" class="_tab_">
        [WAVEFORM BUILDER PAGE]
      </div>




    </div>

  </div>

  <!-- THE GRAPH PANEL  -->
  <div class="panel">
    
    <div class="top-bar-2">

      <span class="flat-grid full">

        <span class="flex-center full">
          <button class="nuni-logo"></button>
        </span>

        <span id="graph-undo-redo-btns" class="flex-center full">
          <button class="top-bar-btn undo-btn" id="graph-undo-button">↺</button>
          <button class="top-bar-btn redo-btn" id="graph-redo-button">↻</button>
        </span>

        <span class="flex-center full">
          <button id="snap-to-grid-btn" class="grid-icon"></button>
        </span>

        <span class="flex-center full">
          <button 
            id="info-button" 
            class="info-button"> 
            i 
          </button> 
        </span>
        
      </span>

    </div>

    <div id="nunigraph-stuff">
      <div id="nunigraph-legend"></div>
      <canvas id="nunigraph-canvas"></canvas>
      <div id="node-windows"></div>      
    </div>

  </div>

</div>



<div id="info-menu-container" class="info-menu-container">
  <div id="info-menu" class="info-menu"> 

    <div class="info-menu-grid">
      <div id="info-menu-buttons">
        <button 
          class="_info-menu-button_ active-info-button" 
          value="basics-info"> 
          basics 
        </button>

        <button 
          class="_info-menu-button_" 
          value="nodes-info"> 
          nodes 
        </button>

        <button 
          class="_info-menu-button_" 
          value="about-info"> 
          about  
        </button>
      </div>

      <div>

        <div id="basics-info" class="info-content side-margin show">
          <div class="info-text-container side-margin">
            <span class="about-info-text">
              <ul>
                <li> Right-click inside the graph to create new nodes. </li>
                <li> Click the edges of nodes to start making connections. </li>
                <li> Click on triangles/arrows to undo connections </li>
                <li> <code> ctrl + z </code>         to undo. </li>
                <li> <code> ctrl + shift + z </code> to redo. </li>
              </ul>
            </span>
          </div>
        </div>
        <div id="nodes-info" class="info-content side-margin">
          <div class="info-text-container side-margin">
            <span class="about-info-text">
              <ul>
                <li> <code>gain</code> 
                  nodes represent a change in volume or intensity. </li>
                
                <li> <code>oscillator</code> 
                  nodes output a specified frequency of a given periodic wave. </li>
                
                <li> <code>panner</code> 
                  nodes can be used to pan audio streams left or right. </li>
                
                <li> <code>filter</code> 
                  nodes can represent different low-order filters.</li>
                
                <li> <code>delay</code> 
                  nodes cause a delay between the arrival of input data and its propagation to the output.</li>
                
                <li> <code>buffer</code> 
                  nodes allow you to play audio samples. </li>
              </ul>
            </span>
          </div>
        </div>
        <div id="about-info" class="info-content">
          <div class="info-text-container side-margin">
            <span class="about-info-text center">
            
              NuniSynth is a graphical modular software designed for
              building instruments, effects, and complex audio functions.
              <br> <br>
              Please leave feedback, suggestions, questions, or thoughts at
              <code> ronaldmcorona@gmail.com</code>.

            </span>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>




</body>
</html>